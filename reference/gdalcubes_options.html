<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set or read global options of the gdalcubes package — gdalcubes_options • gdalcubes</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set or read global options of the gdalcubes package — gdalcubes_options"><meta property="og:description" content="Set global package options to change the default behavior of gdalcubes. These include how many parallel processes are used
to process data cubes, how created netCDF files are compressed, and whether or not debug messages should be printed."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gdalcubes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/gc01_MODIS.html">1. Creating data cubes from local MODIS imagery</a>
    </li>
    <li>
      <a href="../articles/gc02_AWS_Sentinel2.html">2. Data cubes from Sentinel-2 data in the cloud</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/appelmar/gdalcubes_R/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set or read global options of the gdalcubes package</h1>
    <small class="dont-index">Source: <a href="https://github.com/appelmar/gdalcubes_R/blob/HEAD/R/config.R" class="external-link"><code>R/config.R</code></a></small>
    <div class="hidden name"><code>gdalcubes_options.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Set global package options to change the default behavior of gdalcubes. These include how many parallel processes are used
to process data cubes, how created netCDF files are compressed, and whether or not debug messages should be printed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">gdalcubes_options</span><span class="op">(</span>
  <span class="va">...</span>,
  <span class="va">parallel</span>,
  <span class="va">ncdf_compression_level</span>,
  <span class="va">debug</span>,
  <span class="va">cache</span>,
  <span class="va">ncdf_write_bounds</span>,
  <span class="va">use_overview_images</span>,
  <span class="va">show_progress</span>,
  <span class="va">default_chunksize</span>,
  <span class="va">streaming_dir</span>,
  <span class="va">log_file</span>,
  <span class="va">threads</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p>not used</p></dd>
<dt>parallel</dt>
<dd><p>number of parallel workers used to process data cubes or TRUE to use the number of available cores automatically</p></dd>
<dt>ncdf_compression_level</dt>
<dd><p>integer; compression level for created netCDF files, 0=no compression, 1=fast compression, 9=small compression</p></dd>
<dt>debug</dt>
<dd><p>logical;  print debug messages</p></dd>
<dt>cache</dt>
<dd><p>logical; TRUE if temporary data cubes should be cached to support fast reprocessing of the same cubes</p></dd>
<dt>ncdf_write_bounds</dt>
<dd><p>logical; write dimension bounds as additional variables in netCDF files</p></dd>
<dt>use_overview_images</dt>
<dd><p>logical; if FALSE, all images are read on original resolution and existing overviews will be ignored</p></dd>
<dt>show_progress</dt>
<dd><p>logical; if TRUE, a progress bar will be shown for actual computations</p></dd>
<dt>default_chunksize</dt>
<dd><p>length-three vector with chunk size in t, y, x directions or a function taking a data cube size and returning a suggested chunk size</p></dd>
<dt>streaming_dir</dt>
<dd><p>directory where temporary binary files for process streaming will be written to</p></dd>
<dt>log_file</dt>
<dd><p>character, if empty string or NULL, diagnostic messages will be printed to the console, otherwise to the provided file</p></dd>
<dt>threads</dt>
<dd><p>number of threads used to process data cubes (deprecated)</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Data cubes can be processed in parallel where the number of chunks in a cube is distributed among parallel
worker processes. The actual number of used workers can be lower if a data cube as less chunks. If parallel
is TRUE, the number of available cores is used. Setting parallel = FALSE can be used to disable parallel processing.
Notice that since version 0.6.0, separate processes are being used instead of parallel threads to avoid 
possible R session crashes due to some multithreading issues.</p>
<p>Caching has no effect on disk or memory consumption, 
it simply tries to reuse existing temporary files where possible.
For example, changing only parameters to <code>plot</code> will void
reprocessing the same data cube if cache is TRUE.</p>
<p>The streaming directory can be used to control the performance of user-defined functions,
if disk IO is a bottleneck. Ideally, this can be set to a directory on a shared memory device.</p>
<p>Passing no arguments will return the current options as a list.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu">gdalcubes_options</span><span class="op">(</span>parallel<span class="op">=</span><span class="fl">4</span><span class="op">)</span> <span class="co"># set the number </span></span>
<span class="r-in"><span class="fu">gdalcubes_options</span><span class="op">(</span><span class="op">)</span> <span class="co"># print current options</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parallel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ncdf_compression_level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $debug</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cache</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ncdf_write_bounds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $use_overview_images</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $show_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $default_chunksize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (nt, ny, nx) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     nparallel = .pkgenv$parallel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     target_nchunks_space = ceiling(2 * nparallel)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cx = sqrt(nx * ny/target_nchunks_space)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cx = ceiling(cx/64) * 64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cy = cx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cx = min(cx, 1024)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cy = min(cy, 1024)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cx = max(cx, 64)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cy = max(cy, 64)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cx = min(nx, cx)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cy = min(ny, cy)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     return(c(1, ceiling(cy), ceiling(cx)))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x557282a4a258&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: namespace:gdalcubes&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $streaming_dir</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/RtmpdjTRRM"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">gdalcubes_options</span><span class="op">(</span>parallel<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="co"># reset</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Marius Appel.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

